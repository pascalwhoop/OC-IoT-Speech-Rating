<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Block 12</title>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <link rel="stylesheet" href="../common/css/reveal.css">
    <link rel="stylesheet" href="../common/css/style.css">
    <!--    <link rel="stylesheet" href="../common/css/print/pdf.css"/>-->


    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="../common/css/zenburn.css">

    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <![endif]-->


</head>

<body>

<div id="logo">
    <p align="center">
        <img src="../common/css/Opitz_Logo_V1.svg" alt="Logo" id="logo_img">
    </p>
</div>

<div id="copyright">
    <p align="center">
        &copy; 2014 OPITZ CONSULTING Deutschland GmbH
    </p>
</div>

<div class="reveal">


    <div class="slides">

        <section>
            <h1>Block 12</h1>

            <img src="../common/css/imagebilder.png" alt="Imagebilder">

            <p>
                Event Processing im IoT
            </p>
        </section>


        <section>
            <section>
                <h2>Wofür Events im IoT?</h2>
            </section>
            <section>
                <img src="images/mqtt.gif" alt="" style="width: 40%"/>

                <aside class="notes">
                    <p>Kommunikationsstrategien welche Sensoreninformationen zusammentragen</p>

                    <p>Hier die Frage: Sind alle Informationen relevant, müssen alle an die Zentrale? Ggf. zwei Wege:
                        Low priority batch processing + real-time event streaming</p>

                    <p>Jeder Knotenpunkt aggregiert Events der "darunterliegenden" Knotenpunkte</p>
                </aside>
            </section>

            <section>
                <img src="../common/img/iot_architecture.png" alt=""/>

                <div style="
        position: absolute;
        width: 150px;
        height: 60px;
        border: 10px solid red;
        top: 26.9%;
        left: 48.2%;"></div>

                <div style="
        position: absolute;
        width: 147px;
        height: 200px;
        border: 10px solid red;
        top: 67.5%;
        left: 65.6%;"></div>
            </section>

            <section><img src="images/matroska.png" alt=""/>
                <aside class="notes">
                    <p>Bild aus Einstiegsvortrag, A Thing is a thing is a thing is a thing</p>
                </aside>
            </section>
        </section>

        <section>
            <section><h2>Vergleich CEP mit menschlichem Nervensystem</h2>

                <p class="source">http://www.thecepblog.com/2007/05/14/what-is-complex-event-processing-part-1/</p>
            </section>

            <section>


                <table style="font-size: 0.7em; border-spacing: 70px;">
                    <tbody>
                    <tr>
                        <td ><strong>Körper<br>
                        </strong></td>
                        <td ><strong>CEP</strong></td>
                        <td ><strong>Funktionalität<br>
                        </strong></td>
                    </tr>
                    <tr class="fragment">
                        <td >Sinne</td>
                        <td >Transaktionen, logfiles, Sensoren</td>
                        <td >Direkte Schnittstelle zur Umgebung, stellt Informationen bereit</td>
                    </tr>
                    <tr class="fragment">
                        <td >Nervensystem</td>
                        <td >ESB, information bus, Netzwerke</td>
                        <td >Übermittelt Informationen</td>
                    </tr>
                    <tr class="fragment">
                        <td >Gehirn</td>
                        <td >Rule engines, neurale Netzwerke, Analyse, semantische Regeln, Datenspeicher</td>
                        <td >Verarbeitet Daten, "versteht" die Umgebung, formuliert Context und reagiert auf Basis von Gegebenheiten, Relation zur Vergangenheit, Vergleich</td>
                    </tr>
                    </tbody>
                </table>
            </section>

            <section data-markdown>
                <script type="text/template">
                    * Struktur kann geschachtelt werden
                    * Einzelne Elemente wie Personen in Unternehmenshierarchie
                    * Nur relevante Informationen werden an Vorgesetzte / höher eingeordnete Institutionen weitergegeben

                    Note:
                    * Dennoch Zugriff möglich durch höhere Instanzen?
                    * "Müller zeigen sir mir mal ... von letzter Woche"... wie im EPN? Buffer? Caches?
                </script>
            </section>
        </section>

        <section>
            <img src="images/gulf_stream.png" alt="" width="50%"/>

            <aside class="notes">
                <p>Sensoren bilden Netzwerk (Mesh?) Einige Sensoren besitzen zusätzliche Rechenkapazität >>> "Hubs"</p>
                <p>Hubs können rausrechnen, ob einzelne Sensoren technische Fehler besitzen oder ob Messwerte Signifikanz besitzen (mehr als 2 z.B.)</p>
            </aside>
        </section>

        <section>
            <section>
                <h2>Oracle CEP</h2>
            </section>

            <section>
                <ul>
                    <li>Interessant, da auch für Embedded einsetzbar</li>
                    <li>Läuft z.B. auf Raspberry Pi aber auch in J2ME Umgebungen</li>
                    <li>Small things call big things. big things call home</li>
                </ul>
                <p class="source">http://www.oracle.com/technetwork/articles/amadei-cep-090595.html</p>

                <aside class="notes">
                    <p>GPS Location Events: Tracking von PKW's von Carsharing Flotte, sobald außerhalb erlaubter Regionen -> Event</p>
                    <p>Tracking von Geschwindigkeit: Wenn Intervall überschritten -> Event</p>
                    <p>Temperaturen, Gase, ..... SENSOREN! -> THINGS?</p>
                    <p>CEP Primär Reaktion auf Events. Aber dann Befehle von Zentrale -> Things -> really cool</p>
                </aside>
            </section>

            <section data-markdown>
                <script type="text/template">
                    * 12c Version fast fertig. Dann mit jDeveloper / WLS
                    * 11g noch mit Eclipse Indigo Plugin

                    Note:
                    * 12c läuft wohl schon aber embedded noch nicht, daher auch für uns nur 11g
                    * 11g eclipse plugin in VM unter separatem (älteren) eclipse vorhanden
                </script>
            </section>

            <section>
                <img src="images/cep_EPN.png" alt="" class="stretch"/>

                <aside class="notes">
                    <p>Complex Event Processing Network bietet übersicht über die Eventnetzwerke. Mehrere Dateien können dabei zusammengelegt werden</p>
                    <p>Zeigt anschaulich (ähnlich BPMN) den Verlauf der Daten. In sog. "Processors" können dann "CQL" Queries auf die Daten losgelassen werden</p>
                    <p>CQL queries sind optimiert auf sich ständig verändernde Datenstreams, syntax SQL basiert.</p>
                </aside>
            </section>

            <section>
                <pre><code><pre>&lt;processor&gt;
    &lt;name&gt;alertsProcessor&lt;/name&gt;
    &lt;rules&gt;
    &lt;view id="susView"&gt;&lt;![CDATA[
   				select  SUM(1) as c,
                        sensorid,  avg(temp) as temp,
                        "sustained" as alerttype,
                        "sustained temperature abnormally" as text
        		from AlertsInputChannel [RANGE 60 SECOND]
        		group by sensorid
        		HAVING   SUM(1) &gt; 5
    ]]&gt;&lt;/view&gt;
      &lt;query id="susQuery"&gt;
        &lt;![CDATA[ select sensorid, temp, alerttype, text from susView
        ]]&gt;
      &lt;/query&gt;
    &lt;/rules&gt;
  &lt;/processor&gt;</pre></code></pre>

                <aside class="notes">
                    <p>Hat als Input Datenquellen (ähnlich wie Tabellen in SQL) von denen es gewisse Daten filtert und weitergibt</p>
                    <p>Prozessoren müssen nicht in CQL geschrieben werden. Prototyp nutzt POJO's, da ich kein SQL Fan bin.</p>
                </aside>
            </section>
            
            <section>
                <img src="images/cep_cql_processor.gif" alt="" style="width: 70%"/>
            </section>


        </section>




    </div>

</div>


<script src="../common/js/head.min.js"></script>
<script src="../common/js/reveal.js"></script>

<script type="text/javascript" src="../common/revealjsConfig.js"></script>

</body>
</html>
